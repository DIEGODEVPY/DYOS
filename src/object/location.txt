Menu.SetActiveItem($PANEL, 0)
:MenuDeLaPosicionDelObjeto
Menu.SetColumn($PANEL, 0, 'M00000E','M000000','M0000NN','M0000NM','M0000MM','M0000FO','M0000FP','M0000EO',none,none,none,none,none,none) 
FrenarRetorno() 
FrenarSeleccion()
repeat
    wait 0
    if EntrarAlMenu()
    then 
        if _Selected == 0 // movimiento libre
        then
            {$I ./location/free.txt}
            Menu.SetActiveItem($PANEL,0)
            jump @MenuDeLaPosicionDelObjeto
        end

        if _Selected == 1 // Ancla. al jugador
        then
            {$I ./location/attach_player.txt}
            Menu.SetActiveItem($PANEL, 1)
            jump @MenuDeLaPosicionDelObjeto
        end

        if _Selected == 2 // Ancla. al actor
        then
            {$I ./location/attach_actor.txt}
            Menu.SetActiveItem($PANEL,2)
            jump @MenuDeLaPosicionDelObjeto
        end
{
        if _Selected == 3 // Ancla. al objeto
        then
            if $numObjetos < 2
            then
                Text.ClearHelp()
                Text.PrintHelp('M0000NU')
                jump @MenuDeLaPosicionDelObjeto
            end
            desanclarObjeto()






            if $numObjetos < 2
            then
                Text.ClearHelp()
                Text.PrintHelp('M00009Y')
            else
                if $numObjetos < 3
                then
                    int 0@ = $indObjeto
                    0@--

                    if
                        0@ == 0
                    then
                        0@ = $numObjetos
                    end
                    
                    Aplicated()
                    Task.FollowFootsteps($Objeto($indObjeto,101i), $Objeto(0@,101i))  // ------------------
                    jump @MenuDeTareas
                else
                    int 20@ = $indObjeto
                    EsconderMenu()
                    FrenarSeleccion()
                    repeat
                        wait 0
                        Text.PrintWith2NumbersNow('M0000BG',$indObjeto,$numObjetos,150,0)

                        if ParaEspecial()
                        then
                            $indObjeto = 0
                            float 10@ = 1.0
                            repeat 
                                wait 0
                                $indObjeto++
                                if $indObjeto > $numObjetos
                                then
                                    $indObjeto = 1
                                    10@ += 1.0
                                    if 10@ > 5.0
                                    then
                                        break
                                    end
                                end
                            until Actor.IsLocatedNearActor3D(_Player,0,$Objeto($indObjeto,101i),10@,10@,10@)
                            Blip.Remove($ResaltadorDeEntidad)
                        end

                        if Blip.Defined($ResaltadorDeEntidad)
                        then
                            wait 0
                        else 
                            $ResaltadorDeEntidad = Blip.CreateAboveActor($Objeto($indObjeto,101i))
                            while ParaIzquierda() 
                                wait 0
                            end
                            while ParaDerecha() 
                                wait 0
                            end
                        end

                        if $numObjetos > 1
                        then
                            if ParaIzquierda()
                            then
                                $indObjeto--
                                if $indObjeto < 1
                                then $indObjeto = $numObjetos 
                                end
                                Blip.Remove($ResaltadorDeEntidad)
                            end
                            if ParaDerecha()
                            then
                                $indObjeto++
                                if $indObjeto > $numObjetos
                                then $indObjeto = 1
                                end
                                Blip.Remove($ResaltadorDeEntidad)
                            end
                        end

                        if Selecionas()
                        then
                            AparecerMenu()
                            Aplicated()
                            Menu.SetActiveItem($PANEL, 0)
                            Task.FollowFootsteps($Objeto(20@,101i), $Objeto($indObjeto,101i)) // ------------------
                            int $indObjeto = 20@
                            Blip.Remove($ResaltadorDeEntidad)
                            jump @MenuDeTareas
                        end
                    until SalirDelMenu()
                    AparecerMenu()
                    Blip.Remove($ResaltadorDeEntidad)
                end
            end
            Menu.SetActiveItem($PANEL,3)
            jump @MenuDeLaPosicionDelObjeto
        end
}
        if _Selected == 3 // Ancla. al vehiculo
        then
            {$I ./location/attach_car.txt}
            Menu.SetActiveItem($PANEL,3)
            jump @MenuDeLaPosicionDelObjeto
        end

        if _Selected == 4 // Telep. to player
        then
            desanclarObjeto()
            Actor.GetPositionAndOffset(x, y, z, _Player, 0.0, 0.0, -1.0)
            Object.SetPosition($Objeto($indObjeto,101i), x, y, z)
            Aplicated()
        end

        if _Selected == 5 // Telep. to actor
        then
            {$I ./location/tp_actor.txt}
            Menu.SetActiveItem($PANEL, 5)
            jump @MenuDeLaPosicionDelObjeto
        end

        if _Selected == 6 // Telep. to vehicle
        then
            {$I ./location/tp_car.txt}
            Menu.SetActiveItem($PANEL, 6)
            jump @MenuDeLaPosicionDelObjeto
        end
        FrenarSeleccion()
    end
until SalirDelMenu()